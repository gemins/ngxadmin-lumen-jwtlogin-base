<div class="row">
  <div class="col-md-12 col-table">
    <nb-card title="Clientes">
      <nb-card-header>
        <span>Usuarios</span>
        <span class="pull-right"><button class="btn btn-success btn-tn btn-with-icon" ><i class="ion-plus"></i> Nuevo</button></span>
      </nb-card-header>
      <nb-card-body>
        <search-box (onChangeValue)="getPage(1, $event)" (onOptionChange)="refreshPage($event)" [baConfPage]="options" [show]="{export : true}"></search-box>
        <div class="table-container">
        <table class="table table-striped">
          <thead>
            <tr class="no-top-border">
              <th style="min-width:120px; max-width: 120px;">Acción</th>
              <th style="min-width:200px; max-width: 200px;">Nombre completo</th>
              <th>Rol</th>
              <th>Genero</th>
              <th>Email</th>
              <th>Nacimiento</th>
            </tr>
          </thead>
          <tbody *ngIf="asyncDataTable">
            <tr *ngFor="let user of asyncDataTable | async | paginate: config" class="no-top-border">
              <td>
                <span class="btn-inline">
                  <button class="btn btn-info btn-round btn-tn btn-icon"
                          type="button"
                          (click)="editItem(user.id)">
                    <i class="ion-edit"></i>
                  </button>
                  <button class="btn btn-danger btn-round btn-tn btn-icon"
                          type="button"
                          (click)="deleteModal.show(user.id)">
                    <i class="ion-android-close"></i>
                  </button>
                </span>
              </td>
              <td class="nowrap">{{user.first_name}} {{user.last_name}}</td>
              <th>{{user.role}}</th>
              <td class="text-center"><i [ngClass]="user.gender == 'female' ? 'ion-female' : 'ion-male'"></i> </td>
              <td class="align-left">{{user.email}}</td>
              <td class="align-left"> {{user.birthday}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      </nb-card-body>
    </nb-card>
    <div class="text-center">
      <pagination-component [config]="config" (pageChange)="getPage($event)"></pagination-component>
      <!--<pagination-controls (pageChange)="getPage($event)" id="table"></pagination-controls>-->
    </div>
  </div>
</div>

<custom-modal #renewPlanModal [baModalConfig]="{title:'Renovar plan',body:'Desea renovar el tiempo de promoción del plan de este cliente? Esto pondra el contador en cero para el tiempo de promoción', buttonOkey: 'Renovar', buttonOkeyColor: 'btn-info', buttonOkeyIcon : 'ion-refresh'}" [disabled]="renewing" (onOkey)="renewItem($event)"></custom-modal>
<custom-modal #deleteModal [baModalConfig]="{title:'Eliminar Cliente',body:'Esta seguro que desea eliminar este elemento?', buttonOkey: 'Eliminar', buttonOkeyColor: 'btn-danger', buttonOkeyIcon : 'ion-trash-a'}" [disabled]="deleting" (onOkey)="deleteItem($event)"></custom-modal>